{% extends "base.html" %}

{% block content %}
<div class="container">
    <a href="{{ url_for('toolbox') }}" class="back-button">← Back to Home</a>
    
    <h1>Differential Privacy</h1>
    
    <div class="tool-description">
        <p>Differential Privacy is a mathematical framework for providing strong privacy guarantees while maintaining data utility. This tool helps you add carefully calibrated noise to your dataset to protect individual privacy while preserving overall statistical patterns.</p>
        
        <div class="features-list">
            <h3>Key Features:</h3>
            <ul>
                <li>→ Epsilon parameter customization</li>
                <li>→ Multiple noise mechanisms (Laplace, Gaussian)</li>
                <li>→ Statistical accuracy reports</li>
                <li>→ Privacy budget management</li>
            </ul>
        </div>
        
        <p class="privacy-note">Perfect for organizations needing to share data while maintaining GDPR and CCPA compliance.</p>
    </div>

    <div class="upload-section">
        <h2>Configure Privacy Settings</h2>
        <form method="POST" enctype="multipart/form-data" class="upload-form">
            <div class="file-input-container">
                <input type="file" name="file" id="file" accept=".csv" required>
                <label for="file" class="file-label">Choose Dataset</label>
                <span id="file-name">No file chosen</span>
            </div>
            
            <div class="privacy-settings">
                <div class="setting-group">
                    <label for="epsilon">Privacy Budget (ε):</label>
                    <input type="range" id="epsilon" name="epsilon" min="0.1" max="1.0" step="0.1" value="0.5">
                    <span id="epsilon-value">0.5</span>
                </div>
                
                <div class="setting-group">
                    <label for="mechanism">Noise Mechanism:</label>
                    <select name="mechanism" id="mechanism">
                        <option value="laplace">Laplace</option>
                        <option value="gaussian">Gaussian</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label for="sensitivity">Data Sensitivity:</label>
                    <select name="sensitivity" id="sensitivity">
                        <option value="low">Low</option>
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                    </select>
                </div>
            </div>
            
            <button type="submit" class="button">Apply Differential Privacy</button>
        </form>
    </div>
</div>

<script>
    // File input handler
    document.getElementById('file').addEventListener('change', function() {
        const fileName = this.files[0] ? this.files[0].name : 'No file chosen';
        document.getElementById('file-name').textContent = fileName;
    });

    // Epsilon slider handler
    document.getElementById('epsilon').addEventListener('input', function() {
        document.getElementById('epsilon-value').textContent = this.value;
    });
</script>
{% endblock %} 